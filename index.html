<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>AlphaJournal - Login</title>
<link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<div class="container">
  <div class="header"><div class="brand"><div class="logo">Aâ–²</div><h1>AlphaJournal</h1></div></div>
  <main style="margin-top:18px">
    <div style="max-width:480px;margin:0 auto;background:var(--panel);padding:18px;border-radius:12px">
      <h2 class="small">Entrar</h2>
      <input id="email" class="input" placeholder="E-mail" type="email" style="margin-top:8px">
      <input id="password" class="input" placeholder="Senha" type="password" style="margin-top:8px">
      <div style="display:flex;gap:8px;margin-top:12px">
        <button id="btnLogin" class="btn">Entrar</button>
        <button id="btnGoogle" class="btn" style="background:#ffffff;color:#02121a">Google</button>
      </div>
      <div style="margin-top:10px" class="small">(Login simples para MVP)</div>
    </div>
  </main>
</div>
<script type="module">
import { loginWithEmail, loginWithGoogle, onAuth } from './assets/js/auth.js';
document.getElementById('btnLogin').addEventListener('click', async ()=>{
  const email = document.getElementById('email').value;
  const pw = document.getElementById('password').value;
  try{ await loginWithEmail(email,pw); window.location.href='dashboard.html'; }catch(e){ alert('Erro ao entrar: '+e.message) }
});
document.getElementById('btnGoogle').addEventListener('click', async ()=>{
  try{ await loginWithGoogle(); window.location.href='dashboard.html'; }catch(e){ alert('Erro Google: '+e.message) }
});
onAuth((user)=>{ if(user) window.location.href='dashboard.html'; });
</script>
</body></html>